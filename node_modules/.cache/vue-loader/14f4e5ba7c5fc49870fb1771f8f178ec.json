{"remainingRequest":"/home/soojy/Documents/projects/vuetify-surpk/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/soojy/Documents/projects/vuetify-surpk/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/soojy/Documents/projects/vuetify-surpk/src/App.vue","mtime":1619745461862},{"path":"/home/soojy/Documents/projects/vuetify-surpk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/soojy/Documents/projects/vuetify-surpk/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/soojy/Documents/projects/vuetify-surpk/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/soojy/Documents/projects/vuetify-surpk/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNb2RhbFNlbmQgZnJvbSAiLi9jb21wb25lbnRzL01vZGFsU2VuZCI7CmltcG9ydCBJdGVtTGlzdCBmcm9tICIuL2NvbXBvbmVudHMvSXRlbUxpc3QiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAoKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbFNlbmQsCiAgICBJdGVtTGlzdCwKICB9LAogIHByb3BzOiB7CiAgICBzb3VyY2U6IFN0cmluZywKICB9LAogIG1ldGhvZHM6IHsKICAgIHRva2VuKCkgewogICAgICByZXR1cm4gdGhpcy51c2VyLnRva2VuOwogICAgfSwKICAgIGFzeW5jIGNoYW5nZVByb2ZpbGUoKSB7CiAgICAgIHRoaXMucHJvZmlsZSA9ICF0aGlzLnByb2ZpbGU7CiAgICB9LAogICAgYXN5bmMgc2F2ZUxvY2FsRGF0YSgpIHsKICAgICAgYXdhaXQgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXIpKTsKICAgIH0sCiAgICBhc3luYyBsb2FkTG9jYWxEYXRhKCkgewogICAgICB0aGlzLnVzZXIgPSBhd2FpdCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOwogICAgfSwKICAgIGxvZ291dCgpIHsKICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIGFsZXJ0KHRleHQsIHR5cGUsIGR1cmF0aW9uID0gMjAwMCkgewogICAgICBjb25zdCBhbGVydCA9IHsgdGV4dCwgdHlwZSwgaWQ6IE1hdGgucmFuZG9tKCkgfTsKICAgICAgdGhpcy5hbGVydHMucHVzaChhbGVydCk7CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmFsZXJ0cy5zcGxpY2UodGhpcy5hbGVydHMuaW5kZXhPZihhbGVydCksIDEpOwogICAgICB9LCBkdXJhdGlvbik7CiAgICB9LAoKICAgIGFzeW5jIGF1dGgoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBsb2dpbjogdGhpcy5sb2dpbkZvcm0ubG9naW4sCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQsCiAgICAgICAgfTsKICAgICAgICBsZXQgcmVzdWx0OwogICAgICAgIGF3YWl0IGZldGNoKCJodHRwOi8vc3VycGstYXBpLWxhc3QuaGVyb2t1YXBwLmNvbS9wdWJsaWMvYXBpL2xvZ2luIiwgewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXN1bHQgPSAyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gMSkgewogICAgICAgICAgICAgIHRoaXMudXNlciA9IGRhdGE7CgogICAgICAgICAgICAgIHRoaXMuc2F2ZUxvY2FsRGF0YSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICBpZiAocmVzdWx0ID09IDEpIHsKICAgICAgICAgIHRoaXMuY2hhbmdlUHJvZmlsZSgpOwogICAgICAgICAgdGhpcy5hbGVydCgi0JLRiyDRg9GB0L/QtdGI0L3QviDQstC+0YjQu9C4IiwgInN1Y2Nlc3MiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaGFuZ2VQcm9maWxlKCk7CiAgICAgICAgICB0aGlzLmFsZXJ0KCLQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6IiwgImVycm9yIik7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS5yZXNldCgpOwogICAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnJlc2V0VmFsaWRhdGlvbigpOwogICAgICB9CiAgICB9LAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRMb2NhbERhdGEoKTsKICAgIHRoaXMudXNlcmthayA9IHRydWU7CiAgfSwKCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3RuYW1lOiAiIiwKICAgICAgbGFzdG5hbWU6ICIiLAogICAgICBhY2NvdW50OiBmYWxzZSwKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgaXRlbXM6IFsi0KHQny0xIiwgItCh0J8tMiIsICLQodCfLTMiLCAi0KHQny00Il0sCiAgICAgIHRvZG9zOiBbXSwKICAgICAgcHJvZmlsZTogZmFsc2UsCiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIGxvZ2luOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbG9naW5SdWxlczogWyh2KSA9PiAhIXYgfHwgItCb0L7Qs9C40L0g0L7QsdGP0LfQsNGC0LXQu9C10L0iXSwKICAgICAgICBwYXNzUnVsZXM6IFsodikgPT4gISF2IHx8ICLQn9Cw0YDQvtC70Ywg0L7QsdGP0LfQsNGC0LXQu9C10L0iXSwKICAgICAgfSwKICAgICAgYWxlcnRzOiBbXSwKICAgICAgdXNlcjogbnVsbCwKICAgIH07CiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <v-app id=\"inspire\">\n      <v-app id=\"inspire\">\n        <v-navigation-drawer v-model=\"drawer\" app>\n          <v-list dense>\n            <v-list-item link>\n              <v-list-item-action>\n                <v-icon>mdi-home</v-icon>\n              </v-list-item-action>\n              <v-list-item-content>\n                <v-list-item-title>Создание заявки</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n            <v-list-item link>\n              <v-list-item-action>\n                <v-icon>mdi-email</v-icon>\n              </v-list-item-action>\n              <v-list-item-content>\n                <v-list-item-title>Обратная связь</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list>\n        </v-navigation-drawer>\n\n        <v-app-bar app color=\"#23539c\" flat hide-on-scroll dark>\n          <v-app-bar-nav-icon\n            @click.stop=\"drawer = !drawer\"\n          ></v-app-bar-nav-icon>\n          <v-toolbar-title>СПК ПОДДЕРЖКА</v-toolbar-title>\n\n          <v-dialog v-model=\"profile\" persistent max-width=\"600px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <span class=\"ml-auto\" v-if=\"user == null\"\n                ><v-icon\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  class=\"mr-1\"\n                  @click.prevent=\"profile = !profile\"\n                  size=\"30\"\n                  right\n                >\n                  mdi-account-circle\n                </v-icon></span\n              >\n              <span class=\"ml-auto\" v-else\n                ><v-icon class=\"mr-1\" @click.prevent=\"logout()\" size=\"30\" right>\n                  mdi-exit-to-app </v-icon\n                >{{ user.username }}</span\n              >\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">Вход</span>\n              </v-card-title>\n              <v-card-text>\n                <v-container>\n                  <v-form ref=\"loginForm\">\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          label=\"Логин\"\n                          :rules=\"loginForm.loginRules\"\n                          v-model=\"loginForm.login\"\n                          required\n                        ></v-text-field>\n                      </v-col>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          :rules=\"loginForm.passRules\"\n                          v-model=\"loginForm.password\"\n                          label=\"Пароль\"\n                          type=\"password\"\n                          required\n                        ></v-text-field>\n                      </v-col>\n                    </v-row>\n                  </v-form>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"profile = false\">\n                  Отмена\n                </v-btn>\n                <v-btn color=\"blue darken-1\" text @click.prevent=\"auth()\">\n                  Вход\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-app-bar>\n\n        <v-main>\n          <v-container fluid style=\"position: relative\" class=\"py-2\">\n            <v-row>\n              <v-col class=\"mx-auto col-12 col-md-10 col-xl-6 col-lg-8\">\n                <v-expansion-panels accordion flat readonly>\n                  <v-expansion-panel\n                    class=\"my-0\"\n                    style=\"cursor: default !important\"\n                  >\n                    <v-expansion-panel-header\n                      disable-icon-rotate\n                      style=\"\n                        cursor: default !important;\n                        border: 1px solid #23539c;\n                      \"\n                    >\n                      <v-row>\n                        <v-col class=\"col-12 col-lg-3 spkcolor\"> ДАТА</v-col>\n                        <v-col class=\"col-12 col-lg-4 spkcolor\">\n                          СП<span class=\"spkcolor-secondary ml-1\">КАБ</span>\n                        </v-col>\n                        <v-col\n                          class=\"d-flex spkcolor justify-lg-center justify-start col-12 col-lg-5\"\n                          style=\"letter-spacing: 1.6666667px\"\n                        >\n                          ФИО\n                        </v-col>\n                      </v-row>\n                      <template v-slot:actions>\n                        <v-icon color=\"#23539c\">\n                          mdi-information-outline\n                        </v-icon>\n                      </template>\n                    </v-expansion-panel-header>\n                  </v-expansion-panel>\n                </v-expansion-panels>\n                <ItemList @alert=\"alert\"></ItemList>\n              </v-col>\n            </v-row>\n          </v-container>\n          <div class=\"alerts\">\n            <transition-group name=\"fade\">\n              <v-alert\n                :type=\"alert.type\"\n                v-for=\"alert in alerts\"\n                :key=\"alert.id\"\n                class=\"toast show mb-2\"\n              >\n                {{ alert.text }}\n              </v-alert>\n            </transition-group>\n          </div>\n          <modal-send></modal-send>\n        </v-main>\n        <v-footer color=\"#23539c\" app>\n          <span class=\"white--text copyc\"\n            >&copy; {{ new Date().getFullYear() }}\n            <a href=\"https://www.surpk.ru\">www.surpk.ru</a></span\n          >\n        </v-footer>\n      </v-app>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport ModalSend from \"./components/ModalSend\";\nimport ItemList from \"./components/ItemList\";\n\nexport default {\n  name: \"App\",\n\n  components: {\n    ModalSend,\n    ItemList,\n  },\n  props: {\n    source: String,\n  },\n  methods: {\n    token() {\n      return this.user.token;\n    },\n    async changeProfile() {\n      this.profile = !this.profile;\n    },\n    async saveLocalData() {\n      await localStorage.setItem(\"user\", JSON.stringify(this.user));\n    },\n    async loadLocalData() {\n      this.user = await JSON.parse(localStorage.getItem(\"user\"));\n    },\n    logout() {\n      localStorage.clear();\n      location.reload();\n    },\n    alert(text, type, duration = 2000) {\n      const alert = { text, type, id: Math.random() };\n      this.alerts.push(alert);\n\n      setTimeout(() => {\n        this.alerts.splice(this.alerts.indexOf(alert), 1);\n      }, duration);\n    },\n\n    async auth() {\n      if (this.$refs.loginForm.validate()) {\n        let data = {\n          login: this.loginForm.login,\n          password: this.loginForm.password,\n        };\n        let result;\n        await fetch(\"http://surpk-api-last.herokuapp.com/public/api/login\", {\n          method: \"POST\",\n          body: JSON.stringify(data),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((res) => {\n            if (res.status == 200) {\n              result = 1;\n            } else {\n              result = 2;\n            }\n            return res.json();\n          })\n          .then((data) => {\n            if (result == 1) {\n              this.user = data;\n\n              this.saveLocalData();\n            }\n          });\n        if (result == 1) {\n          this.changeProfile();\n          this.alert(\"Вы успешно вошли\", \"success\");\n        } else {\n          this.changeProfile();\n          this.alert(\"Что-то пошло не так\", \"error\");\n        }\n\n        this.$refs.loginForm.reset();\n        this.$refs.loginForm.resetValidation();\n      }\n    },\n  },\n\n  mounted() {\n    this.loadLocalData();\n    this.userkak = true;\n  },\n\n  data: function () {\n    return {\n      firstname: \"\",\n      lastname: \"\",\n      account: false,\n      drawer: false,\n      dialog: false,\n      items: [\"СП-1\", \"СП-2\", \"СП-3\", \"СП-4\"],\n      todos: [],\n      profile: false,\n      loginForm: {\n        login: \"\",\n        password: \"\",\n        loginRules: [(v) => !!v || \"Логин обязателен\"],\n        passRules: [(v) => !!v || \"Пароль обязателен\"],\n      },\n      alerts: [],\n      user: null,\n    };\n  },\n};\n</script>\n\n<style lang=\"css\">\n.copyc a {\n  color: white !important;\n}\n\n.spkcolor {\n  color: #23539c;\n}\n\n.spkcolor-secondary {\n  opacity: 0.75;\n  color: #23539c;\n}\n.alerts {\n  width: 300px;\n  position: absolute;\n  right: 85px;\n  bottom: 5px;\n  z-index: 99;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active до версии 2.1.8 */ {\n  transform: translateY(150%);\n  opacity: 0;\n}\n.fade-leave-to {\n  transform: translateX(150%);\n  opacity: 0;\n}\n</style>\n"]}]}